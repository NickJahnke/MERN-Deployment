{"ast":null,"code":"import _slicedToArray from\"/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link,navigate}from'@reach/router';var Create=function Create(_ref){var addPirate=_ref.addPirate;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),treasureChests=_useState6[0],setTreasureChests=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phrase=_useState8[0],setPhrase=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),position=_useState10[0],setPosition=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),pegLeg=_useState12[0],setPegLeg=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),eyePatch=_useState14[0],setEyePatch=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),hookHand=_useState16[0],setHookHand=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),errors=_useState18[0],setErrors=_useState18[1];var submitHandler=function submitHandler(event){event.preventDefault();var newPirate={name:name,url:url,treasureChests:treasureChests,phrase:phrase,position:position,pegLeg:pegLeg,eyePatch:eyePatch,hookHand:hookHand};axios.post(\"http://localhost:9999/pirates/create\",newPirate).then(function(res){addPirate(res.data);//this will add the product to the LOCAL array that lists all Pirates\nnavigate(\"/pirates\");}).catch(function(err){var errors=err.response.data.errors;var keys=Object.keys(errors);var newErrors=[];for(var _i=0,_keys=keys;_i<_keys.length;_i++){var i=_keys[_i];newErrors.push(errors[i].message);}console.log(newErrors);setErrors(newErrors);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"List a new product\"}),errors.map(function(val,i){return/*#__PURE__*/_jsxs(\"p\",{children:[val,\" \"]},i);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate URL:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:url,onChange:function onChange(e){return setUrl(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"# treasure chests:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:treasureChests,onChange:function onChange(e){return setTreasureChests(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate phrase:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phrase,onChange:function onChange(e){return setPhrase(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate position:\",/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setPosition(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Captain\",children:\" Captain \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deckhand\",children:\" Deckhand \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Crow's Nest Scout\",children:\" Crow's Nest Scout \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deckhand\",children:\" Deckhand \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deckhand\",children:\" Deckhand \"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\" Peg Leg\",/*#__PURE__*/_jsx(\"input\",{name:\"pegLeg\",type:\"checkbox\",checked:pegLeg,onChange:function onChange(e){return setPegLeg(e.target.checked);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\" Eye Patch\",/*#__PURE__*/_jsx(\"input\",{name:\"eyePatch\",type:\"checkbox\",checked:eyePatch,onChange:function onChange(e){return setEyePatch(e.target.checked);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\" Hook Hand\",/*#__PURE__*/_jsx(\"input\",{name:\"hookHand\",type:\"checkbox\",checked:hookHand,onChange:function onChange(e){return setHookHand(e.target.checked);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add Pirate!\"})]})]});};export default Create;","map":{"version":3,"sources":["/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/src/components/Create.jsx"],"names":["React","useState","useEffect","axios","Link","navigate","Create","addPirate","name","setName","url","setUrl","treasureChests","setTreasureChests","phrase","setPhrase","position","setPosition","pegLeg","setPegLeg","eyePatch","setEyePatch","hookHand","setHookHand","errors","setErrors","submitHandler","event","preventDefault","newPirate","post","then","res","data","catch","err","response","keys","Object","newErrors","i","push","message","console","log","map","val","e","target","value","checked"],"mappings":"2QAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,QAAd,KAA6B,eAA7B,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAiB,IAAfC,CAAAA,SAAe,MAAfA,SAAe,eACRN,QAAQ,CAAC,EAAD,CADA,wCACzBO,IADyB,eACnBC,OADmB,8BAEVR,QAAQ,CAAC,EAAD,CAFE,yCAEzBS,GAFyB,eAEpBC,MAFoB,8BAGYV,QAAQ,CAAC,CAAD,CAHpB,yCAGzBW,cAHyB,eAGTC,iBAHS,8BAIJZ,QAAQ,CAAC,EAAD,CAJJ,yCAIzBa,MAJyB,eAIjBC,SAJiB,8BAKAd,QAAQ,CAAC,EAAD,CALR,0CAKzBe,QALyB,gBAKfC,WALe,gCAMJhB,QAAQ,CAAC,KAAD,CANJ,2CAMzBiB,MANyB,gBAMjBC,SANiB,gCAOAlB,QAAQ,CAAC,KAAD,CAPR,2CAOzBmB,QAPyB,gBAOfC,WAPe,gCAQApB,QAAQ,CAAC,KAAD,CARR,2CAQzBqB,QARyB,gBAQfC,WARe,gCAWJtB,QAAQ,CAAC,EAAD,CAXJ,2CAWzBuB,MAXyB,gBAWjBC,SAXiB,gBAahC,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CACtB,CACIA,KAAK,CAACC,cAAN,GAGJ,GAAMC,CAAAA,SAAS,CAAG,CAACrB,IAAI,CAAEA,IAAP,CAAaE,GAAG,CAACA,GAAjB,CAAsBE,cAAc,CAAEA,cAAtC,CAAqDE,MAAM,CAAEA,MAA7D,CAAoEE,QAAQ,CAAEA,QAA9E,CAAuFE,MAAM,CAACA,MAA9F,CAAqGE,QAAQ,CAACA,QAA9G,CAAuHE,QAAQ,CAACA,QAAhI,CAAlB,CAEAnB,KAAK,CAAC2B,IAAN,CAAW,sCAAX,CAAmDD,SAAnD,EACCE,IADD,CACM,SAAAC,GAAG,CAAI,CACTzB,SAAS,CAACyB,GAAG,CAACC,IAAL,CAAT,CAAqB;AACrB5B,QAAQ,CAAC,UAAD,CAAR,CAEH,CALD,EAMC6B,KAND,CAMO,SAAAC,GAAG,CAAE,CACZ,GAAMX,CAAAA,MAAM,CAAGW,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBT,MAAjC,CAEA,GAAMa,CAAAA,IAAI,CAAGC,MAAM,CAACD,IAAP,CAAYb,MAAZ,CAAb,CACA,GAAMe,CAAAA,SAAS,CAAG,EAAlB,CAEA,mBAAcF,IAAd,sBAAoB,CAAf,GAAIG,CAAAA,CAAC,UAAL,CACDD,SAAS,CAACE,IAAV,CAAejB,MAAM,CAACgB,CAAD,CAAN,CAAUE,OAAzB,EACH,CACDC,OAAO,CAACC,GAAR,CAAYL,SAAZ,EACAd,SAAS,CAACc,SAAD,CAAT,CACC,CAjBD,EAkBC,CAzBD,CA2BI,mBACI,oCAGI,0CAHJ,CAKKf,MAAM,CAACqB,GAAP,CAAW,SAACC,GAAD,CAAKN,CAAL,qBACZ,qBAAcM,GAAd,OAAUN,CAAV,CADY,EAAX,CALL,cAQI,cAAM,QAAQ,CAAId,aAAlB,wBACI,qDAEI,cAAO,IAAI,CAAG,MAAd,CAAqB,KAAK,CAAIlB,IAA9B,CAAoC,QAAQ,CAAI,kBAAAuC,CAAC,QAAEtC,CAAAA,OAAO,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,EAAjD,EAFJ,GADJ,cAKI,oDAEI,cAAO,IAAI,CAAG,MAAd,CAAqB,KAAK,CAAIvC,GAA9B,CAAmC,QAAQ,CAAI,kBAAAqC,CAAC,QAAEpC,CAAAA,MAAM,CAACoC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,EAAhD,EAFJ,GALJ,cASI,2DAEI,cAAO,IAAI,CAAG,QAAd,CAAuB,KAAK,CAAIrC,cAAhC,CAAgD,QAAQ,CAAI,kBAAAmC,CAAC,QAAElC,CAAAA,iBAAiB,CAACkC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB,EAA7D,EAFJ,GATJ,cAaI,uDAEI,cAAO,IAAI,CAAG,MAAd,CAAqB,KAAK,CAAInC,MAA9B,CAAsC,QAAQ,CAAI,kBAAAiC,CAAC,QAAEhC,CAAAA,SAAS,CAACgC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAAnD,EAFJ,GAbJ,cAiBI,yDAEI,gBAAQ,QAAQ,CAAI,kBAAAF,CAAC,QAAE9B,CAAAA,WAAW,CAAC8B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAArB,wBACI,eAAQ,KAAK,CAAG,SAAhB,uBADJ,cAEI,eAAQ,KAAK,CAAG,UAAhB,wBAFJ,cAGI,eAAQ,KAAK,CAAG,mBAAhB,iCAHJ,cAII,eAAQ,KAAK,CAAG,UAAhB,wBAJJ,cAKI,eAAQ,KAAK,CAAG,UAAhB,wBALJ,GAFJ,GAjBJ,cA2BQ,iDACA,cAAQ,IAAI,CAAG,QAAf,CAAwB,IAAI,CAAC,UAA7B,CAAwC,OAAO,CAAE/B,MAAjD,CAAyD,QAAQ,CAAE,kBAAA6B,CAAC,QAAE5B,CAAAA,SAAS,CAAC4B,CAAC,CAACC,MAAF,CAASE,OAAV,CAAX,EAApE,EADA,GA3BR,cA8BQ,mDACA,cAAO,IAAI,CAAG,UAAd,CAAyB,IAAI,CAAC,UAA9B,CAAyC,OAAO,CAAE9B,QAAlD,CAA4D,QAAQ,CAAE,kBAAA2B,CAAC,QAAE1B,CAAAA,WAAW,CAAC0B,CAAC,CAACC,MAAF,CAASE,OAAV,CAAb,EAAvE,EADA,GA9BR,cAiCQ,mDACA,cAAO,IAAI,CAAG,UAAd,CAAyB,IAAI,CAAC,UAA9B,CAAyC,OAAO,CAAE5B,QAAlD,CAA4D,QAAQ,CAAE,kBAAAyB,CAAC,QAAExB,CAAAA,WAAW,CAACwB,CAAC,CAACC,MAAF,CAASE,OAAV,CAAb,EAAvE,EADA,GAjCR,cAqCQ,cAAO,IAAI,CAAG,QAAd,CAAuB,KAAK,CAAG,aAA/B,EArCR,GARJ,GADJ,CAmDH,CA3FD,CA4FA,cAAe5C,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {Link, navigate} from '@reach/router'\n\nconst Create = ({addPirate}) => {\n const[name, setName] = useState(\"\")\n const[url, setUrl] = useState(\"\")\n const[treasureChests, setTreasureChests] = useState(0)\n const[phrase, setPhrase] = useState(\"\")\n const[position, setPosition] = useState(\"\")\n const[pegLeg, setPegLeg] = useState(false)\n const[eyePatch, setEyePatch] = useState(false)\n const[hookHand, setHookHand] = useState(false)\n \n\nconst [errors, setErrors] = useState([])\n\nconst submitHandler = (event) =>\n{\n    event.preventDefault();\n\n\nconst newPirate = {name: name, url:url, treasureChests: treasureChests,phrase: phrase,position: position,pegLeg:pegLeg,eyePatch:eyePatch,hookHand:hookHand}\n\naxios.post(\"http://localhost:9999/pirates/create\", newPirate)\n.then(res => {\n    addPirate(res.data); //this will add the product to the LOCAL array that lists all Pirates\n    navigate(\"/pirates\");\n    \n})\n.catch(err=>{\nconst errors = err.response.data.errors;\n\nconst keys = Object.keys(errors)\nconst newErrors = [];\n\nfor (let i of keys) {\n    newErrors.push(errors[i].message)\n}\nconsole.log(newErrors)\nsetErrors(newErrors);\n})\n}\n\n    return(\n        <div>\n           \n\n            <h1>List a new product</h1>\n            \n            {errors.map((val,i)=>\n            <p key = {i}>{val} </p>)}\n            \n            <form onSubmit = {submitHandler} >\n                <label>\n                    Pirate name:\n                    <input type = \"text\" value = {name} onChange = {e=>setName(e.target.value)}/>\n                </label>\n                <label>\n                    Pirate URL:\n                    <input type = \"text\" value = {url} onChange = {e=>setUrl(e.target.value)}/>\n                </label>\n                <label>\n                    # treasure chests:\n                    <input type = \"number\" value = {treasureChests} onChange = {e=>setTreasureChests(e.target.value)}/>\n                </label>\n                <label>\n                    Pirate phrase:\n                    <input type = \"text\" value = {phrase} onChange = {e=>setPhrase(e.target.value)}/>\n                </label>\n                <label>\n                    Pirate position:\n                    <select onChange = {e=>setPosition(e.target.value)}>\n                        <option value = \"Captain\"> Captain </option>\n                        <option value = \"Deckhand\"> Deckhand </option>\n                        <option value = \"Crow's Nest Scout\"> Crow's Nest Scout </option>\n                        <option value = \"Deckhand\"> Deckhand </option>\n                        <option value = \"Deckhand\"> Deckhand </option>\n                    </select>\n                    </label>\n                    <label> Peg Leg\n                    <input  name = \"pegLeg\" type=\"checkbox\" checked={pegLeg} onChange={e=>setPegLeg(e.target.checked)} />\n                    </label>\n                    <label> Eye Patch\n                    <input name = \"eyePatch\" type=\"checkbox\" checked={eyePatch} onChange={e=>setEyePatch(e.target.checked)}/>\n                    </label>\n                    <label> Hook Hand\n                    <input name = \"hookHand\" type=\"checkbox\" checked={hookHand} onChange={e=>setHookHand(e.target.checked)} />\n                    </label>\n                    \n                    <input type = \"submit\" value = \"Add Pirate!\"/>\n            </form>\n\n        </div>\n    )\n}\nexport default Create;"]},"metadata":{},"sourceType":"module"}