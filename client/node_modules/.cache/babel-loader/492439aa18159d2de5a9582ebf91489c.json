{"ast":null,"code":"import _toConsumableArray from\"/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{Router}from'@reach/router';import axios from'axios';import List from'./List';import Create from'./Create';import Display from'./Display';import Update from'./Update';var Main=function Main(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pirates=_useState2[0],setPirates=_useState2[1];useEffect(function(){axios.get(\"http://localhost:9999/pirates\").then(function(response){//console.log(response.data);\nsetPirates(response.data);});},[]);//add methods (maniplulate state data)\nvar addPirate=function addPirate(pirate){setPirates([].concat(_toConsumableArray(pirates),[pirate]));};var removePirate=function removePirate(id){setPirates(pirates.filter(function(pirate){return pirate._id!==id;}));};var updatePirate=function updatePirate(newPirate){setPirates(pirates.map(function(pirate){return pirate._id===newPirate._id?newPirate:pirate;}));};var updatePirateButton=function updatePirateButton(partialPirate){setPirates(pirates.map(function(pirate){return pirate._id===partialPirate._id?partialPirate:pirate;}));};//the delete Pirate method is an api method\nvar deletePirate=function deletePirate(id){axios.delete(\"http://localhost:9999/pirates/\".concat(id)).then(function(response){removePirate(id);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(List,{path:\"/pirates\",pirates:pirates,deletePirate:deletePirate}),/*#__PURE__*/_jsx(Create,{path:\"/new\",addPirate:addPirate}),/*#__PURE__*/_jsx(Display,{path:\"/show/:id\",updatePirate:updatePirate}),/*#__PURE__*/_jsx(Update,{path:\"/edit/:id\",updatePirate:updatePirate})]})});};export default Main;","map":{"version":3,"sources":["/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/src/components/Main.jsx"],"names":["React","useEffect","useState","Router","axios","List","Create","Display","Update","Main","pirates","setPirates","get","then","response","data","addPirate","pirate","removePirate","id","filter","_id","updatePirate","newPirate","map","updatePirateButton","partialPirate","deletePirate","delete"],"mappings":"scAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eAEeP,QAAQ,CAAC,EAAD,CAFvB,wCAERQ,OAFQ,eAECC,UAFD,eAIfV,SAAS,CAAC,UAAM,CACZG,KAAK,CAACQ,GAAN,CAAU,+BAAV,EACKC,IADL,CACU,SAAAC,QAAQ,CAAI,CACd;AACAH,UAAU,CAACG,QAAQ,CAACC,IAAV,CAAV,CACH,CAJL,EAIO,CALF,CAKG,EALH,CAAT,CAQA;AACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,MAAD,CAAY,CAC1BN,UAAU,8BAAKD,OAAL,GAAcO,MAAd,GAAV,CACH,CAFD,CAGA,GAAMC,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,EAAD,CAAO,CACvBR,UAAU,CAACD,OAAO,CAACU,MAAR,CAAe,SAAAH,MAAM,QAAEA,CAAAA,MAAM,CAACI,GAAP,GAAeF,EAAjB,EAArB,CAAD,CAAV,CACH,CAFD,CAGA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,SAAD,CAAe,CAChCZ,UAAU,CAACD,OAAO,CAACc,GAAR,CAAY,SAAAP,MAAM,QAAEA,CAAAA,MAAM,CAACI,GAAP,GAAeE,SAAS,CAACF,GAAzB,CAA+BE,SAA/B,CAA2CN,MAA7C,EAAlB,CAAD,CAAV,CACH,CAFD,CAGA,GAAMQ,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,aAAD,CAAmB,CAC1Cf,UAAU,CAACD,OAAO,CAACc,GAAR,CAAY,SAAAP,MAAM,QAAEA,CAAAA,MAAM,CAACI,GAAP,GAAeK,aAAa,CAACL,GAA7B,CAAmCK,aAAnC,CAAmDT,MAArD,EAAlB,CAAD,CAAV,CACH,CAFD,CAKA;AACA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACR,EAAD,CAAO,CACxBf,KAAK,CAACwB,MAAN,yCAA8CT,EAA9C,GACCN,IADD,CACM,SAAAC,QAAQ,CAAE,CACZI,YAAY,CAACC,EAAD,CAAZ,CACH,CAHD,EAIH,CALD,CAQA,mBACI,kCACI,MAAC,MAAD,yBACI,KAAC,IAAD,EAAM,IAAI,CAAC,UAAX,CAAsB,OAAO,CAAET,OAA/B,CAAwC,YAAY,CAAIiB,YAAxD,EADJ,cAEI,KAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,SAAS,CAAEX,SAA/B,EAFJ,cAGI,KAAC,OAAD,EAAS,IAAI,CAAC,WAAd,CAA0B,YAAY,CAAIM,YAA1C,EAHJ,cAII,KAAC,MAAD,EAAQ,IAAI,CAAG,WAAf,CAA2B,YAAY,CAAIA,YAA3C,EAJJ,GADJ,EADJ,CAaH,CAjDD,CAoDA,cAAeb,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Router } from '@reach/router'\nimport axios from 'axios';\nimport List from './List'\nimport Create from './Create'\nimport Display from './Display';\nimport Update from './Update';\n\n\nconst Main = () => {\n\n    const [pirates, setPirates] = useState([]);\n\n    useEffect(() => {\n        axios.get(\"http://localhost:9999/pirates\")\n            .then(response => {\n                //console.log(response.data);\n                setPirates(response.data);\n            })},[])\n\n\n    //add methods (maniplulate state data)\n    const addPirate = (pirate) => {\n        setPirates([...pirates, pirate])\n    }\n    const removePirate =(id) =>{\n        setPirates(pirates.filter(pirate=>pirate._id !== id));\n    }\n    const updatePirate = (newPirate) => {\n        setPirates(pirates.map(pirate=>pirate._id === newPirate._id ? newPirate : pirate));\n    }\n    const updatePirateButton = (partialPirate) => {\n        setPirates(pirates.map(pirate=>pirate._id === partialPirate._id ? partialPirate : pirate));\n    }\n\n\n    //the delete Pirate method is an api method\n    const deletePirate = (id) =>{\n        axios.delete(`http://localhost:9999/pirates/${id}`)\n        .then(response=>{\n            removePirate(id);\n        })\n    }\n\n\n    return (\n        <div>\n            <Router>\n                <List path=\"/pirates\" pirates={pirates} deletePirate = {deletePirate}/>\n                <Create path=\"/new\" addPirate={addPirate} />\n                <Display path=\"/show/:id\" updatePirate = {updatePirate}/>\n                <Update path = \"/edit/:id\" updatePirate = {updatePirate}/>\n            </Router>\n\n\n\n        </div>\n    )\n}\n\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}