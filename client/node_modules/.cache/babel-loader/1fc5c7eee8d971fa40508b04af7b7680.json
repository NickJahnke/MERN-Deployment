{"ast":null,"code":"import _slicedToArray from\"/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{navigate}from'@reach/router';import axios from'axios';import React,{useEffect,useState}from'react';var Update=function Update(_ref){var id=_ref.id,updatePirate=_ref.updatePirate;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),treasureChests=_useState6[0],setTreasureChests=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phrase=_useState8[0],setPhrase=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),position=_useState10[0],setPosition=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),pegLeg=_useState12[0],setPegLeg=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),eyePatch=_useState14[0],setEyePatch=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),hookHand=_useState16[0],setHookHand=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),errors=_useState18[0],setErrors=_useState18[1];useEffect(function(){axios.get(\"http://localhost:9999/pirates/\".concat(id)).then(function(res){console.log(res);setName(res.data.name);setUrl(res.data.url);setTreasureChests(res.data.treasureChests);setPhrase(res.data.phrase);setPosition(res.data.position);setPegLeg(res.data.pegLeg);setEyePatch(res.data.eyePatch);setHookHand(res.data.hookHand);}).catch(function(err){console.log(err);});},[]);var submitHandler=function submitHandler(e){e.preventDefault();axios.put(\"http://localhost:9999/pirates/\".concat(id),/*add other properties*/{name:name,url:url,treasureChests:treasureChests,phrase:phrase,position:position,pegLeg:pegLeg,eyePatch:eyePatch,hookHand:hookHand}).then(function(res){console.log(res);updatePirate(res.data);navigate(\"/pirates\");}).catch(function(err){var errors=err.response.data.errors;var keys=Object.keys(errors);var newErrors=[];for(var _i=0,_keys=keys;_i<_keys.length;_i++){var i=_keys[_i];newErrors.push(errors[i].message);}console.log(newErrors);setErrors(newErrors);});};return/*#__PURE__*/_jsxs(\"div\",{children:[errors.map(function(val,i){return/*#__PURE__*/_jsxs(\"p\",{children:[val,\" \"]},i);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate URL:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:url,onChange:function onChange(e){return setUrl(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"# treasure chests:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:treasureChests,onChange:function onChange(e){return setTreasureChests(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate phrase:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phrase,onChange:function onChange(e){return setPhrase(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate position:\",/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setPosition(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Captain\",children:\" Captain \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deckhand\",children:\" Deckhand \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Crow's Nest Scout\",children:\" Crow's Nest Scout \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deckhand\",children:\" Deckhand \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deckhand\",children:\" Deckhand \"})]})]}),/*#__PURE__*/_jsx(\"input\",{name:pegLeg,type:\"checkbox\",checked:pegLeg,onChange:function onChange(e){return setPegLeg(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:eyePatch,type:\"checkbox\",checked:eyePatch,onChange:function onChange(e){return setEyePatch(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:hookHand,type:\"checkbox\",checked:hookHand,onChange:function onChange(e){return setHookHand(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Update\"})]})]});};export default Update;","map":{"version":3,"sources":["/Users/macintosh/Documents/CodingDojo/MERN_stack/Exam/client/src/components/Update.jsx"],"names":["navigate","axios","React","useEffect","useState","Update","id","updatePirate","name","setName","url","setUrl","treasureChests","setTreasureChests","phrase","setPhrase","position","setPosition","pegLeg","setPegLeg","eyePatch","setEyePatch","hookHand","setHookHand","errors","setErrors","get","then","res","console","log","data","catch","err","submitHandler","e","preventDefault","put","response","keys","Object","newErrors","i","push","message","map","val","target","value"],"mappings":"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","sourcesContent":["import { navigate } from '@reach/router';\nimport axios from 'axios';\nimport React, {useEffect,useState} from 'react';\n\nconst Update = ({id, updatePirate}) =>{\n    const [name, setName] = useState(\"\")\n    const[url, setUrl] = useState(\"\")\n    const[treasureChests, setTreasureChests] = useState(0)\n    const[phrase, setPhrase] = useState(\"\")\n    const[position, setPosition] = useState(\"\")\n    const[pegLeg, setPegLeg] = useState(false)\n    const[eyePatch, setEyePatch] = useState(false)\n    const[hookHand, setHookHand] = useState(false)\n    const [errors, setErrors] = useState([])\n\n    useEffect(() =>{\n        axios.get(`http://localhost:9999/pirates/${id}`)\n            .then(res=>{\n                console.log(res);\n                setName(res.data.name);\n                setUrl(res.data.url);\n                setTreasureChests(res.data.treasureChests);\n                setPhrase(res.data.phrase);\n                setPosition(res.data.position);\n                setPegLeg(res.data.pegLeg);\n                setEyePatch(res.data.eyePatch);\n                setHookHand(res.data.hookHand);\n                \n            })\n            .catch(err=>{\n                console.log(err)\n                })\n    },[]);\n\n    const submitHandler = (e) =>{\n        e.preventDefault();\n    \n\n    axios.put(`http://localhost:9999/pirates/${id}`, /*add other properties*/{name:name, url:url, treasureChests: treasureChests,phrase: phrase,position: position, pegLeg: pegLeg, eyePatch:eyePatch,hookHand:hookHand})\n    .then(res=>{\n        console.log(res);\n        updatePirate(res.data);\n        navigate(\"/pirates\");\n    })\n    .catch(err=>{\n        const errors = err.response.data.errors;\n        \n        const keys = Object.keys(errors)\n        const newErrors = [];\n        \n        for (let i of keys) {\n            newErrors.push(errors[i].message)\n        }\n        console.log(newErrors)\n        setErrors(newErrors);\n        })\n    \n    }\n    return(\n\n            <div>\n                {errors.map((val,i)=>\n                    <p key = {i}>{val} </p>)}\n                <form onSubmit = {submitHandler}>\n                   <input type = \"text\" value = {name} onChange = {e=>setName(e.target.value)} />\n                   <label>\n                    Pirate URL:\n                    <input type = \"text\" value = {url} onChange = {e=>setUrl(e.target.value)}/>\n                </label>\n                <label>\n                    # treasure chests:\n                    <input type = \"number\" value = {treasureChests} onChange = {e=>setTreasureChests(e.target.value)}/>\n                </label>\n                <label>\n                    Pirate phrase:\n                    <input type = \"text\" value = {phrase} onChange = {e=>setPhrase(e.target.value)}/>\n                </label>\n                <label>\n                    Pirate position:\n                    <select onChange = {e=>setPosition(e.target.value)}>\n                        <option value = \"Captain\"> Captain </option>\n                        <option value = \"Deckhand\"> Deckhand </option>\n                        <option value = \"Crow's Nest Scout\"> Crow's Nest Scout </option>\n                        <option value = \"Deckhand\"> Deckhand </option>\n                        <option value = \"Deckhand\"> Deckhand </option>\n                    </select>\n                    </label>\n                    <input name={pegLeg} type=\"checkbox\" checked={pegLeg} onChange={e=>setPegLeg(e.target.value)} />\n                    <input name={eyePatch} type=\"checkbox\" checked={eyePatch} onChange={e=>setEyePatch(e.target.value)} />\n                    <input name={hookHand} type=\"checkbox\" checked={hookHand} onChange={e=>setHookHand(e.target.value)} />\n                  \n                   <input type = \"submit\" value = \"Update\" />\n\n                    </form>\n            </div>\n        )\n\n}\nexport default Update;"]},"metadata":{},"sourceType":"module"}